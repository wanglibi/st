<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"   
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.dao.StockDataHisDao">

	<select id="findAllId" resultType="java.lang.String">
		select stock_id from stock_basic
	</select>

	<select id="findHisById" resultType="cn.model.StockDataHis" parameterType="java.lang.String">
		select
		st_id as stId,
		st_name as stName,
		st_date as stDate,
		st_close_price as stClosePrice,
		st_max_price as stMaxPrice,
		st_min_price as stMinPrice,
		st_open_price as stOpenPrice,
		st_before_price as stBeforePrice,
		st_fluc_price as stFlucPrice,
		st_fluc_rate as stFlucRate,
		st_change_rate as stChangeRate,
		st_trade_val as stTradeVal,
		st_trade_price as stTradePrice,
		st_total_val as stTotalVal,
		st_circula_val as stCirculaVal
		from stock_data_his where st_id = #{0}
		group by st_date
	</select>
	
	<select id="findHisGreaterDate" resultType="cn.model.StockDataHis" parameterType="java.lang.String">
		select
		st_id as stId,
		st_name as stName,
		st_date as stDate,
		st_close_price as stClosePrice,
		st_max_price as stMaxPrice,
		st_min_price as stMinPrice,
		st_open_price as stOpenPrice,
		st_before_price as stBeforePrice,
		st_fluc_price as stFlucPrice,
		st_fluc_rate as stFlucRate,
		st_change_rate as stChangeRate,
		st_trade_val as stTradeVal,
		st_trade_price as stTradePrice,
		st_total_val as stTotalVal,
		st_circula_val as stCirculaVal
		from stock_data_his where st_id = #{0} <![CDATA[and st_date > #{1}]]>
		group by st_date
	</select>
	
	<select id="findHisByDate" resultType="cn.model.StockDataHis" parameterType="java.lang.String">
		select
		st_id as stId,
		st_name as stName,
		st_date as stDate,
		st_close_price as stClosePrice,
		st_max_price as stMaxPrice,
		st_min_price as stMinPrice,
		st_open_price as stOpenPrice,
		st_before_price as stBeforePrice,
		st_fluc_price as stFlucPrice,
		st_fluc_rate as stFlucRate,
		st_change_rate as stChangeRate,
		st_trade_val as stTradeVal,
		st_trade_price as stTradePrice,
		st_total_val as stTotalVal,
		st_circula_val as stCirculaVal
		from stock_data_his where st_id = #{0} and st_date = #{1}
	</select>
	
</mapper>